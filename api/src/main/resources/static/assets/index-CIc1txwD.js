import{r as s,j as y,R as I,k as _}from"./index-yGwYt6Nq.js";import{u as A,c as E}from"./index-Y2e7ilkQ.js";function U(e,t,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function $(e,t=[]){let o=[];function i(u,n){const r=s.createContext(n),l=o.length;o=[...o,n];const m=a=>{var p;const{scope:d,children:R,...h}=a,S=((p=d==null?void 0:d[e])==null?void 0:p[l])||r,C=s.useMemo(()=>h,Object.values(h));return y.jsx(S.Provider,{value:C,children:R})};m.displayName=u+"Provider";function f(a,d){var S;const R=((S=d==null?void 0:d[e])==null?void 0:S[l])||r,h=s.useContext(R);if(h)return h;if(n!==void 0)return n;throw new Error(`\`${a}\` must be used within \`${u}\``)}return[m,f]}const c=()=>{const u=o.map(n=>s.createContext(n));return function(r){const l=(r==null?void 0:r[e])||u;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:l}}),[r,l])}};return c.scopeName=e,[i,g(c,...t)]}function g(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const i=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const n=i.reduce((r,{useScope:l,scopeName:m})=>{const a=l(u)[`__scope${m}`];return{...r,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return o.scopeName=t.scopeName,o}function W(e){const t=e+"CollectionProvider",[o,i]=$(t),[c,u]=o(t,{collectionRef:{current:null},itemMap:new Map}),n=S=>{const{scope:C,children:p}=S,x=I.useRef(null),v=I.useRef(new Map).current;return y.jsx(c,{scope:C,itemMap:v,collectionRef:x,children:p})};n.displayName=t;const r=e+"CollectionSlot",l=E(r),m=I.forwardRef((S,C)=>{const{scope:p,children:x}=S,v=u(r,p),b=A(C,v.collectionRef);return y.jsx(l,{ref:b,children:x})});m.displayName=r;const f=e+"CollectionItemSlot",a="data-radix-collection-item",d=E(f),R=I.forwardRef((S,C)=>{const{scope:p,children:x,...v}=S,b=I.useRef(null),P=A(C,b),M=u(f,p);return I.useEffect(()=>(M.itemMap.set(b,{ref:b,...v}),()=>void M.itemMap.delete(b))),y.jsx(d,{[a]:"",ref:P,children:x})});R.displayName=f;function h(S){const C=u(e+"CollectionConsumer",S);return I.useCallback(()=>{const x=C.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${a}]`));return Array.from(C.itemMap.values()).sort((M,z)=>v.indexOf(M.ref.current)-v.indexOf(z.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:n,Slot:m,ItemSlot:R},h,i]}var w=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},N=_[" useId ".trim().toString()]||(()=>{}),O=0;function q(e){const[t,o]=s.useState(N());return w(()=>{o(i=>i??String(O++))},[e]),e||(t?`radix-${t}`:"")}function F(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...o)=>{var i;return(i=t.current)==null?void 0:i.call(t,...o)},[])}var T=_[" useInsertionEffect ".trim().toString()]||w;function V({prop:e,defaultProp:t,onChange:o=()=>{},caller:i}){const[c,u,n]=j({defaultProp:t,onChange:o}),r=e!==void 0,l=r?e:c;{const f=s.useRef(e!==void 0);s.useEffect(()=>{const a=f.current;a!==r&&console.warn(`${i} is changing from ${a?"controlled":"uncontrolled"} to ${r?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=r},[r,i])}const m=s.useCallback(f=>{var a;if(r){const d=D(f)?f(e):f;d!==e&&((a=n.current)==null||a.call(n,d))}else u(f)},[r,e,u,n]);return[l,m]}function j({defaultProp:e,onChange:t}){const[o,i]=s.useState(e),c=s.useRef(o),u=s.useRef(t);return T(()=>{u.current=t},[t]),s.useEffect(()=>{var n;c.current!==o&&((n=u.current)==null||n.call(u,o),c.current=o)},[o,c]),[o,i,u]}function D(e){return typeof e=="function"}var L=s.createContext(void 0);function G(e){const t=s.useContext(L);return e||t||"ltr"}function J(e){const[t,o]=s.useState(void 0);return w(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let n,r;if("borderBoxSize"in u){const l=u.borderBoxSize,m=Array.isArray(l)?l[0]:l;n=m.inlineSize,r=m.blockSize}else n=e.offsetWidth,r=e.offsetHeight;o({width:n,height:r})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else o(void 0)},[e]),t}function K(e){const t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}export{$ as a,J as b,U as c,w as d,G as e,V as f,q as g,W as h,K as i,F as u};
